<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chromebook Tech Support Ticket</title>
  <link rel="icon" type="image/svg+xml" href="img/buc.svg">
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Google Translate Styling */
    #google_translate_element {
      display: inline-block;
    }
    .goog-te-gadget {
      font-family: Arial, sans-serif;
      font-size: 0;
    }
    .goog-te-gadget-simple {
      background-color: transparent !important;
      border: none !important;
      padding: 0 !important;
      cursor: pointer;
      font-size: 14px !important;
    }
    .goog-te-gadget-simple:hover {
      opacity: 0.8;
    }
    .goog-te-gadget-simple .goog-te-menu-value span {
      color: #ccc !important;
    }
    .goog-te-gadget-simple .goog-te-menu-value span:first-child {
      display: none;
    }
    .goog-te-gadget-icon {
      display: none !important;
    }
    .goog-te-menu-value:before {
      content: "üåê";
      font-size: 18px;
      margin-right: 6px;
    }
    .goog-te-menu-value span:nth-child(3) {
      border-left: none !important;
      color: #ccc !important;
    }
  </style>
</head>
<body>
  <nav style="background: #5a0000; padding: 12px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.2);">
    <div style="max-width: 1200px; margin: 0 auto; display: flex; gap: 20px; align-items: center; padding: 0 20px;">
      <a href="index.html" style="display: flex; align-items: center; gap: 8px; color: #fff; text-decoration: none; font-weight: bold; font-size: 1.2em; margin-right: 10px;">
        <img src="img/buc.svg" alt="BucIT Logo" style="height: 32px; width: 32px;">
        <span>BucIT</span>
      </a>
      <a href="index.html" style="color: #fff; text-decoration: none; padding: 8px 16px; border-radius: 4px; transition: background 0.2s;">Home</a>
      <a href="form.html" style="color: #fff; text-decoration: none; padding: 8px 16px; border-radius: 4px; background: rgba(255,255,255,0.15);">Intake Form</a>
      <a href="status.php" style="color: #fff; text-decoration: none; padding: 8px 16px; border-radius: 4px; transition: background 0.2s;">Ticket Status</a>
      <a href="chatbot.html" style="color: #fff; text-decoration: none; padding: 8px 16px; border-radius: 4px; transition: background 0.2s;">Chatbot</a>
      <a href="articles/index.html" style="color: #fff; text-decoration: none; padding: 8px 16px; border-radius: 4px; transition: background 0.2s;">Articles</a>
      <div id="google_translate_element" style="margin-left: auto;"></div>
    </div>
  </nav>

  <main style="position: relative;">
    <!-- Chatbot Reminder Modal -->
    <div id="chatbotReminderModal" style="display: none; position: absolute; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
      <div style="background-color: #fff; margin: 15% auto; padding: 30px; border-radius: 8px; width: 90%; max-width: 450px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
        <h3 style="margin-top: 0; color: #5a0000; font-size: 1.4em;">Have you tried our Chatbot?</h3>
        <p style="margin: 20px 0; line-height: 1.6; color: #333;">Our AI chatbot can help you resolve common issues quickly without submitting a ticket. Would you like to try it first?</p>
        <div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 25px;">
          <button id="goToChatbot" style="background: #5a0000; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-size: 1em; font-weight: bold;">Go to Chatbot</button>
          <button id="continueToForm" style="background: #666; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-size: 1em;">Continue to Form</button>
        </div>
      </div>
    </div>

    <h2>Chromebook Tech Support Ticket</h2>
  <form id="supportForm" method="POST" action="support_ticket.php">
      <label for="problem">Problem:</label>
      <select id="problem" name="problem" required>
        <option value="" disabled selected>Select a problem</option>
        <option value="screen">Screen not working</option>
        <option value="battery">Battery issue</option>
        <option value="keyboard">Keyboard not working</option>
        <option value="wifi">WiFi connectivity</option>
        <option value="login">Can‚Äôt log in</option>
        <option value="other">Other</option>
      </select>

      <div id="secondary-container"></div>

      <div class="form-group" style="margin-top:12px;">
        <label for="restarted">Have you restarted the computer?</label>
        <select id="restarted" name="restarted">
          <option value="no" selected>No</option>
          <option value="yes">Yes</option>
        </select>
        <div id="restartMessage" style="display: block; margin-top: 10px; padding: 12px; background-color: #fff3cd; border-left: 4px solid #ffc107; color: #856404; font-size: 0.95em; line-height: 1.5;">
          We ask that you please restart the Chromebook before submitting a ticket, as it resolves most problems. For help on how to do this, please see <a href="articles/restart.html" style="color: #5a0000; font-weight: bold; text-decoration: underline;">this article</a>.
        </div>
      </div>

      <label for="schoolEmail">School Email:</label>
      <input 
        type="email" 
        id="schoolEmail" 
        name="schoolEmail" 
        required
        placeholder="yourname@school.edu"
        title="Enter a valid email address"
      >

      <label for="additionalInfo">Additional Information:</label>
      <textarea 
        id="additionalInfo" 
        name="additionalInfo"
        maxlength="120"
        rows="3"
        placeholder="Any additional details about your issue (max 120 characters)"
      ></textarea>

      <label for="classOf">Class of:</label>
      <input 
        type="text" 
        id="classOf" 
        name="classOf"
        pattern="\d{1,4}"
        maxlength="4"
        inputmode="numeric"
        title="Numbers only (up to 4 digits)"
      >



      <label for="schoolId">School ID #:</label>
      <input 
        type="text" 
        id="schoolId" 
        name="schoolId" 
        required 
        pattern="\d{6}" 
        maxlength="6" 
        minlength="6" 
        inputmode="numeric"
        title="Enter a 6-digit ID"
      >

      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" name="lastName" required>

      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" required>

      <button type="submit">Submit Ticket</button>
    </form>
  </main>
<!--
  <div id="chatbot-container">
    <div id="chatbot-header">ü§ñ Chatbot</div>
    <div id="chatbot-messages"></div>
    <form id="chatbot-form">
      <input type="text" id="chatbot-input" placeholder="Type a message..." autocomplete="off">
      <button type="submit">Send</button>
    </form>
  </div>
-->
  <script src="script.js"></script>
  <script>
    // Show chatbot reminder modal on page load
    window.addEventListener('DOMContentLoaded', function() {
      const modal = document.getElementById('chatbotReminderModal');
      const goToChatbotBtn = document.getElementById('goToChatbot');
      const continueToFormBtn = document.getElementById('continueToForm');
      
      // Show modal when page loads
      modal.style.display = 'block';
      
      // Redirect to chatbot
      goToChatbotBtn.addEventListener('click', function() {
        window.location.href = 'chatbot.html';
      });
      
      // Close modal and continue to form
      continueToFormBtn.addEventListener('click', function() {
        modal.style.display = 'none';
      });
    });

    // Handle restart dropdown change
    const restartedDropdown = document.getElementById('restarted');
    const restartMessage = document.getElementById('restartMessage');
    
    restartedDropdown.addEventListener('change', function() {
      if (this.value === 'no') {
        restartMessage.style.display = 'block';
      } else {
        restartMessage.style.display = 'none';
      }
    });
  </script>
</body>
</html>
